{{ template "shared/_nav_tabs" "Stemcells" }}
<main class="md-main">
  <div class="md-main__inner md-grid" data-md-component="container">
    {{ template "shared/_nav_primary" .NavPrimary }}
    <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner">
          <nav class="md-nav md-nav--secondary">
            <label class="md-nav__title" for="toc">Table of contents</label>
            <ul class="md-nav__list" data-md-scrollfix>
              <li class="md-nav__item">
                <a href="#ubuntu-bionic" title="Ubuntu Bionic" class="md-nav__link">Ubuntu Bionic</a>
                <a href="#ubuntu-xenial" title="Ubuntu Xenial" class="md-nav__link">Ubuntu Xenial</a>
                <a href="#ubuntu-trusty" title="Ubuntu Trusty" class="md-nav__link">Ubuntu Trusty</a>
                <a href="#windows2019" title="Windows 2019" class="md-nav__link">Windows 2019</a>
                <a href="#windows1803" title="Windows 1803" class="md-nav__link">Windows 1803</a>
                <a href="#windows2016" title="Windows 2016" class="md-nav__link">Windows 2016</a>
                <a href="#windows2012R2" title="Windows 2012R2" class="md-nav__link">Windows 2012R2</a>
                <a href="#centos-7" title="CentOS 7" class="md-nav__link">CentOS 7</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
    <div class="md-content">
      <article class="md-content__inner md-typeset">
        <h1>Stemcells</h1>

        {{ template "stemcells/_defined" . }}

        {{ range .DistroGroups }}
          <h2 id="{{ .Distro.NameName }}">{{ .Distro.Name }}<a class="headerlink" href="#{{ .Distro.NameName }}" title="Permanent link">&para;</a></h2>

          {{ $osVersion := ( index .Distro.OSMatches 0 ).OSVersion }}
          {{ if (eq $osVersion "trusty") }}
            {{ template "stemcells/_trusty_notice" . }}
          {{ end }}
          {{ if (eq $osVersion "xenial") }}
            {{ template "stemcells/_xenial_notice" . }}
          {{ end }}
          {{ $osName := ( index .Distro.OSMatches 0 ).OSName }}
          {{if (eq $osName "windows") }}
            {{ template "stemcells/_windows_notice" . }}
          {{ end }}

          <table>
            <thead>
              <tr>
                <th>Infrastructure</th>
                <th>Version</th>
                <th>Download (SHA1)</th>
              </tr>
            </thead>
            <tbody>
              {{ range .ByName }}
                {{ range $j, $a := .ByVersion }}
                  {{ range $i, $s := .Stemcells }}
                    {{ range $x, $ss := .Sources }}{{ if eq .Ignored false }}
                      <tr>
                        <td><a href="{{ $s.AllVersionsURL }}">{{ .InfrastructureName }}</a></td>
                        <td><a href="{{ $s.AllVersionsURL }}#v{{ $a.Version }}">{{ $a.Version }}</a></td>
                        <td>
                          <a href="{{ .UserVisibleDownloadURL }}">{{ .LinkName }}</a>
                          {{ if .SHA1 }}
                            <code>({{ .SHA1 }})</code>
                          {{ end }}
                        </td>
                      </tr>
                    {{ end }}{{ end }}
                  {{ end }}
                {{ end }}
              {{ end }}
            </tbody>
          </table>
        {{ end }}
      </article>
    </div>
  </div>
</main>
